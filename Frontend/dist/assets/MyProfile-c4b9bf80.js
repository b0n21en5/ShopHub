import{G as b,j as e,H as $,r as l,h as w,b as q,L as k,F as v,I as C,z as y,J as E,K as S,M as A,e as I,_ as j}from"./index-3d8f536d.js";const U="/assets/profile-e4e50203.svg",F="/assets/profile-bg-e065bee7.png",M="_input_heading_1ddm6_1",P="_edit_btn_1ddm6_19",R="_input_cnt_1ddm6_33",O="_edit_disable_1ddm6_73",B="_save_btn_1ddm6_85",r={input_heading:M,edit_btn:P,input_cnt:R,edit_disable:O,save_btn:B},g=({heading:c,field:i,setField:d,updateUserCredentials:o})=>{const _=b(),h=a=>{d(u=>({...u,value:a.target.value}))},m=()=>{_($({[i.name]:i.value})),d(a=>({...a,edit:!a.edit})),o()};return e.jsxs("div",{children:[e.jsxs("div",{className:r.input_heading,children:[c,e.jsx("div",{className:r.edit_btn,onClick:()=>d(a=>({...a,edit:!a.edit})),children:i.edit?"Cancel":"Edit"})]}),e.jsxs("div",{className:`${r.input_cnt} ${i.edit?"":r.edit_disable}`,children:[e.jsx("input",{type:"text",value:i.value,placeholder:"Edit User name",onChange:h,disabled:!i.edit}),i.edit&&e.jsx("div",{className:r.save_btn,onClick:m,children:"SAVE"})]})]})},D="_profile_cnt_mqort_1",L="_profile_left_mqort_15",T="_title_mqort_25",G="_user_mqort_43",H="_settings_mqort_53",z="_setting_sec_mqort_61",J="_head_mqort_69",K="_set_mqort_53",V="_active_mqort_121",Y="_link_mqort_131",Q="_profile_right_mqort_155",W="_edit_details_mqort_173",X="_bg_white_shdw_mqort_189",Z="_d_flex_mqort_201",s={profile_cnt:D,profile_left:L,title:T,user:G,settings:H,setting_sec:z,head:J,set:K,active:V,link:Y,profile_right:Q,edit_details:W,bg_white_shdw:X,d_flex:Z},se=()=>{const[c,i]=l.useState("profile"),[d,o]=l.useState({edit:!1,value:"",name:"username"}),[_,h]=l.useState({edit:!1,value:"",name:"email"}),[m,a]=l.useState({edit:!1,value:"",name:"phone"}),[u,x]=l.useState({edit:!1,value:"",name:"address"}),{user:n}=w(t=>t.user),N=b(),f=q(),p=async()=>{try{const{data:t}=await I.put("/api/auth/update-user",{username:d.value,email:_.value,phone:m.value,address:u.value});t&&j.success("Account Details Updated!")}catch(t){j.error(t.response.data.message)}};return l.useEffect(()=>{n?(o(t=>({...t,value:n.username})),h(t=>({...t,value:n.email})),a(t=>({...t,value:n.phone})),x(t=>({...t,value:n.address}))):f("/login")},[n]),e.jsxs("div",{className:s.profile_cnt,children:[e.jsxs("div",{className:s.profile_left,children:[e.jsxs("div",{className:`${s.title} ${s.bg_white_shdw}`,children:[e.jsx("img",{src:U,alt:"profile",width:50,height:50}),e.jsxs("div",{children:[e.jsx("div",{children:"Hello,"}),e.jsx("div",{className:s.user,children:n==null?void 0:n.username})]})]}),e.jsxs("div",{className:`${s.settings} ${s.bg_white_shdw}`,children:[e.jsx("div",{className:`${s.setting_sec} ${s.link}`,children:e.jsxs(k,{to:"/account/orders",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{className:s.head,children:[e.jsx(v,{icon:C}),e.jsx("div",{children:"MY ORDERS"})]}),e.jsx(v,{icon:y,color:"grey",style:{marginRight:"20px"}})]})}),e.jsxs("div",{className:`${s.setting_sec}`,children:[e.jsxs("div",{className:s.head,children:[e.jsx(v,{icon:E}),e.jsx("div",{children:"ACCOUNT SETTINGS"})]}),e.jsx("div",{className:`${s.set} ${c==="profile"?s.active:""}`,onClick:()=>i("profile"),children:"Profile Information"}),e.jsx("div",{className:`${s.set} ${c==="address"?s.active:""}`,onClick:()=>i("address"),children:"Manage Addresses"})]}),e.jsx("div",{className:`${s.setting_sec} ${s.link}`,onClick:()=>{N(S()),f("/")},children:e.jsxs("div",{className:s.head,children:[e.jsx(v,{icon:A}),e.jsx("div",{children:"Logout"})]})})]})]}),e.jsx("div",{className:`${s.profile_right} ${s.bg_white_shdw}`,children:c==="profile"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.edit_details,children:[e.jsx(g,{heading:"Personal Information",field:d,setField:o,updateUserCredentials:p}),e.jsx(g,{heading:"Email Address",field:_,setField:h,updateUserCredentials:p}),e.jsx(g,{heading:"Mobile Number",field:m,setField:a,updateUserCredentials:p})]}),e.jsx("img",{src:F,alt:"profile-background"})]}):e.jsx("div",{className:s.edit_details,children:e.jsx(g,{heading:"Manage Addresses",field:u,setField:x,updateUserCredentials:p})})})]})};export{se as default};
